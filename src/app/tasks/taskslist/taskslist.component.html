<div class="card flex justify-content-center w-3/4 m-auto">
    <p-accordion class="w-full" expandIcon="pi pi-plus" collapseIcon="pi pi-minus">
        @for (task of tasks;track task.id ) {
    <p-accordionTab @taskAnimation>
        <ng-template pTemplate="header">
            <span class="flex align-items-center gap-2 w-full">
                <p-avatar 
                    image="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png" 
                    shape="circle" />
                <span class="font-bold white-space-nowrap">
        {{task.title}}
                </span>
                <p-badge value={{task.id}} class="ml-auto mr-2" />
            </span>
        </ng-template>
        <p class="m-0">
{{task.description}}
        </p>
        <div class="mt-1">
    
              <p-button (onClick)="showDialog()" label="edit" severity="success" class="w-14 h-auto"/>
                <p-button  label="delete" severity="danger" class="ml-2 w-14 h-auto" (onClick)="deletetask(task.id)" />
        
        </div>
        <div class="card flex justify-content-center">
 <form >
            <p-dialog header="Edit Profile" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
                <span class="p-text-secondary block mb-5">Update your information.</span>
                <div class="flex align-items-center gap-3 mb-3">
                    <label for="username" class="font-semibold w-6rem">Title</label>
                    <input pInputText id="username" class="flex-auto" [(ngModel)] ="task.title" autocomplete="off" [ngModelOptions]="{standalone: true}" />
                </div>
                <div class="flex align-items-center gap-3 mb-5">
                    <label for="email" class="font-semibold w-6rem">description</label>
                    <input pInputText id="email" class="flex-auto" autocomplete="off" [(ngModel)] ="task.description"  [ngModelOptions]="{standalone: true}" />
                    <label for="done">Done:</label>
                    <input type="checkbox" id="done" [(ngModel)]="task.done" name="done"  [ngModelOptions]="{standalone: true}">
                </div>
                <div class="flex justify-content-end gap-2">
                    <p-button label="Cancel" severity="secondary" (onClick)="visible = false" />
                    <p-button label="Save" (onClick)="onsubmit(task)"  />
                </div>
            </p-dialog>
        </form>
        </div>
    </p-accordionTab>

  

}

</p-accordion>
</div>

